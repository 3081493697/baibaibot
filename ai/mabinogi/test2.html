<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<script>
  window.onload = function(){

    var adjust_value = -53; //驍坻錛宮镩丟壯??貳
    var adjust_value2 = Math.floor(adjust_value * 1.5); //壯??燎峁坻(?氐?場)

    var date = new Date();

    date.setUTCHours(date.getUTCHours() + 8);

    var second_source = Math.floor((date.getTime() % 2160000) / 1500) + adjust_value;
    var ETHours   = Math.floor(second_source / 60);
    var ETMinutes = Math.floor(second_source % 60);

    console.log('ErinnTime： ' + dsp(ETHours) + ':' + dsp(ETMinutes))


    var now = new Date();
    console.log('WorldTime:' + dsp(now.getHours()) + ':' + dsp(now.getMinutes()))

    var hour = now.getHours();
    var min = now.getMinutes();
    var week = now.getDay() + 1;
    var aa;
    var priceNo;
    var buff;
    var i;
    var ptext;



    var rua = '0010001000010010110111000000010100100010001';
    var mg_count = 43; //鄶蟯
    var mg_rag  = 10;   //奣彝
    var mg_time = 17 * 1.5; //縫窗?濾
    var e_hour = Math.floor(second_source / 60) % 24; //壯???濾
    var e_min   = Math.floor(second_source % 60);


    var eweca = (e_hour >= 17 || e_hour < 6); //謀蹺?濾

    for(i=0; i<31; i++){

      aaa = chDay(date, i - (e_hour < 6));
      min = Math.floor(aaa + mg_time) % 60;
      hour = Math.floor((aaa + mg_time) / 60) % 24;
      mgNo = (Math.floor(aaa / 36) + mg_rag) % mg_count;

      //鳧彅?濾櫻鈺
      w_sec = Math.floor((aaa + mg_time + (eweca ? 13 * 1.5:0)) * 60);	//鍐狀?濾
      n_sec = Math.floor((date.getTime()) / 1000) + adjust_value2;		//驅?濾

      buff = `${dsp(hour)}:${dsp(min)}   ${rua.substr(mgNo,1) == 1 ? '上班' : '休息'}   ${(i==0 ? `${eweca ? '酒馆营业中，距离关店还有' : '酒馆准备中，距离开店还有'}${(parseInt((w_sec - n_sec) / 60)%60)}分${dsp((w_sec - n_sec)%60) + '秒'}`:'')}`

      console.log(buff)
    }

    function chDay(date, next)
    {
      return (Math.floor(((date.getTime() + adjust_value2 * 1000) / (1000 * 60)) / 36) + next) * 36;
    }
    function dsp(value)
    {
      return (value < 10 ? '0' + value : value);
    }
  }

let obj = {

  'err_height':'根据《机动车驾驶证申领和使用规定》规定，申请大型客车、牵引车、城市公交车、大型货车、无轨电车准驾车型的，身高为155厘米以上。申请中型客车准驾车型的，身高为150厘米以上。请重新确认和审核体检数据',

  'err_vision':'根据《机动车驾驶证申领和使用规定》规定，申请大型客车、牵引车、城市公交车、中型客车、大型货车、无轨电车或者有轨电车准驾车型的，两眼裸视力或者矫正视力达到对数视力表5.0以上。申请其他准驾车型的，两眼裸视力或者矫正视力达到对数视力表4.9以上。请重新确认和审核体检数据。',

    'err_color':'根据《机动车驾驶证申领和使用规定》规定，申请驾驶证需无红绿色盲。请重新确认和审核体检数据。',

    'err_hearing':'根据《机动车驾驶证申领和使用规定》规定，申请驾驶证需两耳分别距音叉50厘米能辨别声源方向。有听力障碍但佩戴助听设备能够达到以上条件的，可以申请小型汽车、小型自动挡汽车准驾车型的机动车驾驶证。请重新确认和审核体检数据。',

    'err_uLimbs':'根据《机动车驾驶证申领和使用规定》规定，双手拇指健全，每只手其他手指必须有三指健全，肢体和手指运动功能正常。但手指末节残缺或者左手有三指健全，且双手手掌完整的，可以申请小型汽车、小型自动挡汽车、低速载货汽车、三轮汽车准驾车型的机动车驾驶证。请重新确认和审核体检数据。',

    'err_lLimbs':'根据《机动车驾驶证申领和使用规定》规定，双下肢健全且运动功能正常，不等长度不得大于5厘米。但左下肢缺失或者丧失运动功能的，可以申请小型自动挡汽车准驾车型的机动车驾驶证。请重新确认和审核体检数据。',

    'err_body':'根据《机动车驾驶证申领和使用规定》规定，申请驾驶证需躯干、颈部无运动功能障碍。请重新确认和审核体检数据。',

    'err_mdHistory':'根据《机动车驾驶证申领和使用规定》规定，体检记录中有不符合要求的情形。请重新确认和审核体检数据。'
}
</script>
</body>
</html>
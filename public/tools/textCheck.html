<!DOCTYPE html>
<html lang="en">
<head>
  <title>TextCheck</title>

  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" rel="stylesheet">
  <link href="https://cdn.bootcss.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdn.bootcss.com/clipboard.js/1.7.1/clipboard.js"></script>

</head>
<body>
  <div>
    <table><tr><td>
    <textarea id="source" rows="10" cols="80" style="" oninput="autosize(this)"></textarea>
    </td>
    <td style="background-color: rgba(0,0,0,.2)">
    <div id="target">aasd<span style="background-color: yellow">dsfdsfdsf</span>fdsfa</div>
    </td></tr></table>
    <div>
    <button onclick="checkError()">check</button>
    </div>

  </div>

  <script type="text/javascript">
    function checkError(){
      var content = $('#source')[0].value;
      $.get('/textCheck?d='+encodeURIComponent(content),function(response,status){
        if(status=='success'){
          $('#target').html(content)
          console.log(response)
        }
      });
    }

    function autosize(obj) {
      var el = obj;
      setTimeout(function() {
        el.style.cssText = 'height:auto; padding:0';
        el.style.cssText = 'height:' + (el.scrollHeight + 10) + 'px';
      }, 0);
    }
  </script>
</body>
</html>